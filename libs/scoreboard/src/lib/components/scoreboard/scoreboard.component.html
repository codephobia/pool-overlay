<div class="scoreboard-wrapper" [@scoreboardTransition]="!vm.overlay.hidden" *ngIf="vm$ | async as vm">
    <div class="scoreboard" *ngIf="!vm.overlay.hidden">
        <div class="handicap-wrapper">
            <div
                class="handicap"
                @handicapTransition
                *ngIf="vm.game?.use_fargo_hot_handicap && vm.game?.player_one && vm.game?.player_two && vm.game?.fargo_hot_handicap?.wins_higher != vm.game?.fargo_hot_handicap?.wins_lower"
            >
                <div class="bar top"></div>
                <div class="player-info">
                    <div class="player-wrapper">
                        <div class="player one">
                            <div class="divider"></div>
                            <div class="race-to">
                                <app-character-rotater [characters]="playerOneRaceTo(vm.game)"></app-character-rotater>
                            </div>
                            <div class="divider"></div>
                        </div>
                    </div>
                    <div class="level hot"></div>
                    <div class="player-wrapper">
                        <div class="player two">
                            <div class="divider"></div>
                            <div class="race-to">
                                <app-character-rotater [characters]="playerTwoRaceTo(vm.game)"></app-character-rotater>
                            </div>
                            <div class="divider"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="players">
            <div class="bar top"></div>
            <div class="player-info">
                <div class="player-wrapper one" [ngClass]="{ 'with-flag': vm.overlay.showFlags, 'with-fargo': vm.overlay.showFargo }">
                    <div class="player one">
                        <ng-container *ngIf="vm.overlay.showFlags">
                            <div class="divider"></div>
                            <div class="flag">
                                <app-flag class="player-one" [imagePath]="vm.game?.player_one?.flag?.image_path"></app-flag>
                            </div>
                        </ng-container>
                        <div class="divider"></div>
                        <div class="player-name">
                            <app-character-rotater *ngIf="vm.game?.player_one?.name" [characters]="vm.game?.player_one?.name"></app-character-rotater>
                        </div>
                        <ng-container *ngIf="vm.overlay.showFargo">
                            <div class="divider"></div>
                            <div class="fargo-rating">
                                <div class="title">Fargo</div>
                                <app-character-rotater *ngIf="vm.game?.player_one?.fargo_rating" [characters]="vm.game?.player_one?.fargo_rating"></app-character-rotater>
                            </div>
                        </ng-container>
                    </div>
                </div>
                <div class="scores-wrapper" [ngClass]="{ 'with-score': vm.overlay.showScore }">
                    <div class="scores">
                        <ng-container *ngIf="vm.overlay.showScore">
                            <div class="divider left"></div>
                            <div class="score left">
                                <app-character-rotater *ngIf="vm.game?.score_one !== null" [characters]="vm.game?.score_one"></app-character-rotater>
                            </div>
                        </ng-container>
                        <div class="divider left"></div>
                        <div class="versus">vs</div>
                        <div class="divider right"></div>
                        <ng-container *ngIf="vm.overlay.showScore">
                            <div class="score right">
                                <app-character-rotater *ngIf="vm.game?.score_two !== null" [characters]="vm.game?.score_two"></app-character-rotater>
                            </div>
                            <div class="divider right"></div>
                        </ng-container>
                    </div>
                </div>
                <div class="player-wrapper two" [ngClass]="{ 'with-flag': vm.overlay.showFlags, 'with-fargo': vm.overlay.showFargo }">
                    <div class="player two">
                        <ng-container *ngIf="vm.overlay.showFargo">
                            <div class="fargo-rating">
                                <div class="title">Fargo</div>
                                <app-character-rotater *ngIf="vm.game?.player_two?.fargo_rating" [characters]="vm.game?.player_two?.fargo_rating"></app-character-rotater>
                            </div>
                            <div class="divider"></div>
                        </ng-container>
                        <div class="player-name">
                            <app-character-rotater *ngIf="vm.game?.player_two?.name" [characters]="vm.game?.player_two?.name"></app-character-rotater>
                        </div>
                        <div class="divider"></div>
                        <ng-container *ngIf="vm.overlay.showFlags">
                            <div class="flag">
                                <app-flag class="player-two" [imagePath]="vm.game?.player_two?.flag?.image_path"></app-flag>
                            </div>
                            <div class="divider"></div>
                        </ng-container>
                    </div>
                </div>
            </div>
            <div class="bar bottom"></div>
        </div>
        <div class="game-wrapper">
            <div class="game">
                {{ gameTypeName(vm.game?.type) }} - Race to
                {{ vm.game?.race_to }}
            </div>
        </div>
    </div>
</div>
